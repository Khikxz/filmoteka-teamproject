!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire7a9c;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequire7a9c=o),o.register("8OLSw",(function(e,t){var n,o,a,i,d;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((function(e){return e.json()})).then((function(e){n=e.genres,console.log(n)})).catch((function(e){console.error("Error fetching genres:",e)})),i=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(i)),d=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(d));var l=document.getElementById("myModal"),c=(document.getElementById("modal-poster"),document.getElementById("modal-title"),document.getElementById("modal-vote"),document.getElementById("modal-popularity"),document.getElementById("modal-original-title"),document.getElementById("modal-genre"),document.getElementById("modal-overview"),document.getElementById("addToWatchedBtn")),r=document.getElementById("addToQueuBtn");function s(){l.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",s),window.addEventListener("click",(function(e){if(e.target===l){p();var t,n,o="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",a="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+o;t=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(t)),n=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(n));var i,d=document.getElementById("myModal"),c=document.getElementById("modal-poster"),r=document.getElementById("modal-title"),s=document.getElementById("modal-vote"),u=document.getElementById("modal-popularity"),m=document.getElementById("modal-original-title"),g=document.getElementById("modal-genre"),v=document.getElementById("modal-overview"),f=(document.getElementById("addToWatchedBtn"),document.getElementById("addToQueuBtn"),document.getElementsByClassName("close")[0]);function p(){d.style.display="none"}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((function(e){return e.json()})).then((function(e){i=e.genres,E(a),b(e)})).catch((function(e){})),f.addEventListener("click",p),window.addEventListener("click",(function(e){e.target===d&&p()}));var h=document.getElementById("main"),y=(document.getElementById("search-form"),document.getElementById("search-input"),document.getElementById("gallery"),document.querySelector(".loader-container"));function E(e){e,h.classList.toggle("is-hidden"),y.classList.toggle("is-hidden"),fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e.results),0!==e.results.length&&b(e.results)}))}function b(e){h.innerHTML="",e.forEach((function(e){var t=e.title,n=e.poster_path,o=e.release_date,a=e.genre_ids,l=document.createElement("div");l.classList.add("movie");var f=a&&Array.isArray(i)?a.map((function(e){var t=i.find((function(t){return t.id===e}));return t?t.name:""})).join(", "):"";l.innerHTML='\n            <img src="'.concat(n?"https://image.tmdb.org/t/p/w500"+n:"http:/>/via.placeholder.com/1080x1500",'"\n                alt="').concat(t,'"/>\n            <div class="movie-info">\n                <h3>').concat(t.toUpperCase(),'</h3>\n                <div class="movie-details">\n                <span id="genre">').concat(f,'</span> |\n                <span id="release_date" class="').concat(o,'">').concat(o.slice(0,4),"</span>\n                  </div>\n                  </div>\n                  "),l.addEventListener("click",(function(){!function(e){c.src="https://image.tmdb.org/t/p/w500/".concat(e.poster_path),r.textContent=e.title.toUpperCase(),s.textContent=e.vote_average.toFixed(1)+"   /   "+e.vote_count,u.textContent=e.popularity.toFixed(1),m.textContent=e.original_title.toUpperCase();var t=e.genre_ids.map((function(e){var t=i.find((function(t){return t.id===e}));return t?t.name:""})).join(", ");g.textContent=t,v.textContent=e.overview,d.style.display="block"}(e)})),h.appendChild(l)}))}E(a)}})),next.addEventListener("click",(function(){nextPage<=totalPages&&function(e){var t=lastUrl.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){var a=lastUrl+"&page="+e;getMovies(a)}else{o[1]=e.toString();var i=o.join("=");n[n.length-1]=i;var d=n.join("&"),l=t[0]+"?"+d;getMovies(l)}}(nextPage)})),main.addEventListener("click",(function(e){var t=e.target.parentElement;o=t.lastElementChild.firstElementChild.innerText,console.log(o)})),c.addEventListener("click",(function(){d.includes(o)?alert("".concat(o," has been watched already")):d.push(o),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(function(){i.includes(o)?alert("".concat(o," has been added to the queue already")):i.push(o),localStorage.setItem("movie-queue",JSON.stringify(i))})),c.addEventListener("click",(function(){d.includes(a)?alert("".concat(o," has been watched already")):d.push(a),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(function(){i.includes(a)?alert("".concat(o," has been added to the queue already")):i.push(a),localStorage.setItem("movie-queue",JSON.stringify(i))})),document.body.addEventListener("keydown",(function(e){function t(e){var t=lastUrl.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){var a=lastUrl+"&page="+e;getMovies(a)}else{o[1]=e.toString();var i=o.join("=");n[n.length-1]=i;var d=n.join("&"),l=t[0]+"?"+d;getMovies(l)}}"Escape"===e.code&&s(),form.addEventListener("submit",(function(e){e.preventDefault();var t=search.value;t?getMovies("https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t):getMovies("https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5")})),prev.addEventListener("click",(function(){prevPage>0&&t(prevPage)})),next.addEventListener("click",(function(){nextPage<=totalPages&&t(nextPage)})),main.addEventListener("click",(function(e){var t=e.target.parentElement;o=t.lastElementChild.firstElementChild.innerText,console.log(o)})),c.addEventListener("click",(function(){d.includes(o)?alert("".concat(o," has been watched already")):d.push(o),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(function(){i.includes(o)?alert("".concat(o," has been added to the queue already")):i.push(o),localStorage.setItem("movie-queue",JSON.stringify(i))})),c.addEventListener("click",(function(){d.includes(a)?alert("".concat(o," has been watched already")):d.push(a),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(function(){i.includes(a)?alert("".concat(o," has been added to the queue already")):i.push(a),localStorage.setItem("movie-queue",JSON.stringify(i))})),document.body.addEventListener("keydown",(function(e){"Escape"===e.code&&s()}))}))})),o("8OLSw")}();
//# sourceMappingURL=index.2ab9ee56.js.map
