const e="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",t=document.getElementById("myModal"),n=document.getElementById("modal-poster"),d=document.getElementById("modal-title"),s=document.getElementById("modal-vote"),l=document.getElementById("modal-popularity"),i=document.getElementById("modal-original-title"),o=document.getElementById("modal-genre"),a=document.getElementById("modal-overview"),c=document.getElementById("addToWatchedBtn"),r=document.getElementById("addToQueuBtn");function m(){t.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",m),window.addEventListener("click",(function(e){e.target===t&&m()}));const g=document.getElementById("main"),u=document.getElementById("search-form"),v=document.getElementById("search-input"),p=(document.getElementById("gallery"),document.querySelector(".loader-container")),h=document.getElementById("prev"),y=document.getElementById("next"),E=document.getElementById("current");var f=1,L=2,b=3,I="",B=100;let k,_=[],w=[];function x(e){I=e,g.classList.toggle("is-hidden"),p.classList.toggle("is-hidden"),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(!function(e){g.innerHTML="",e.forEach((e=>{const{title:c,poster_path:r,release_date:m}=e,u=document.createElement("div");u.classList.add("movie"),u.innerHTML=`\n            <img src="${r?"https://image.tmdb.org/t/p/w500"+r:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${c}"/>\n            \n            <div class="movie-info">\n                <h3>${c}</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="${m}">${m}</span>\n                </div>\n            </div>        \n        `,u.addEventListener("click",(function(){!function(e){n.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,d.textContent=e.title,s.textContent=e.vote_average+"/"+e.vote_count,l.textContent=e.popularity,i.textContent=e.original_title,o.textContent=e.genre,a.textContent=e.overview,t.style.display="block"}(e)})),g.appendChild(u)}))}(e.results),f=e.page,L=f+1,b=f-1,B=e.total_pages,g.classList.toggle("is-hidden"),p.classList.toggle("is-hidden"),E.innerText=f,f<=1?(h.classList.add("disabled"),y.classList.remove("disabled")):f>=B?(h.classList.remove("disabled"),y.classList.add("disabled")):(h.classList.remove("disabled"),y.classList.remove("disabled"))):(g.classList.toggle("is-hidden"),p.classList.toggle("is-hidden"),g.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function C(e){let t=I.split("?"),n=t[1].split("&"),d=n[n.length-1].split("=");if("page"!=d[0]){x(I+"&page="+e)}else{d[1]=e.toString();let s=d.join("=");n[n.length-1]=s;let l=n.join("&");x(t[0]+"?"+l)}}localStorage.setItem("movie-queue",JSON.stringify(_)),localStorage.setItem("movie-watched",JSON.stringify(w)),x(e),u.addEventListener("submit",(t=>{t.preventDefault();const n=v.value;x(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:e)})),h.addEventListener("click",(()=>{b>0&&C(b)})),y.addEventListener("click",(()=>{L<=B&&C(L)})),g.addEventListener("click",(e=>{let t=e.target.parentElement;k=t.lastElementChild.firstElementChild.innerText,console.log(k)})),c.addEventListener("click",(()=>{w.includes(k)?alert(`${k} has been watched already`):w.push(k),localStorage.setItem("movie-watched",JSON.stringify(w))})),r.addEventListener("click",(()=>{_.includes(k)?alert(`${k} has been added to the queue already`):_.push(k),localStorage.setItem("movie-queue",JSON.stringify(_))})),document.body.addEventListener("keydown",(e=>{"Escape"===e.code&&m()}));
//# sourceMappingURL=index.49d2e6d1.js.map
