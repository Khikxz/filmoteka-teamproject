var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire7a9c;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire7a9c=a),a.register("2Ep0d",(function(e,t){var n,a,l,o;n=e.exports,a="pageCall",l=function(){return P},Object.defineProperty(n,a,{get:l,set:o,enumerable:!0,configurable:!0});const i="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",s="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+i,d="https://image.tmdb.org/t/p/w500";let r,c,g,u;g=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(g)),u=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(u));const m=document.getElementById("myModal"),p=document.getElementById("modal-poster"),v=document.getElementById("modal-title"),h=document.getElementById("modal-vote"),y=document.getElementById("modal-popularity"),f=document.getElementById("modal-original-title"),E=document.getElementById("modal-genre"),b=document.getElementById("modal-overview"),x=document.getElementById("addToWatchedBtn"),L=document.getElementById("addToQueuBtn");function I(){m.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",I),window.addEventListener("click",(function(e){e.target===m&&I()}));const w=document.getElementById("main"),S=document.getElementById("search-form"),C=document.getElementById("search-input"),_=(document.getElementById("gallery"),document.querySelector(".loader-container"));function B(e){lastUrl=e,w.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(!function(e){w.innerHTML="",e.forEach((e=>{const{title:t,poster_path:n,release_date:a,genre_ids:l}=e,o=document.createElement("div");o.classList.add("movie"),o.innerHTML=`\n            <img src="${n?d+n:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${t}"/>\n            \n            <div class="movie-info">\n                <h3>${t.toUpperCase()}</h3>\n                <div class="movie-details">\n                    <span id="genre" class="${l}">${l}</span> |\n                    <span id="release_date" class="${a}">${a.slice(0,4)}</span>\n                </div>\n            </div>        \n        `,o.addEventListener("click",(function(){!function(e){p.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,v.textContent=e.title.toUpperCase(),h.textContent=e.vote_average.toFixed(1)+"   /   "+e.vote_count,y.textContent=e.popularity.toFixed(1),f.textContent=e.original_title.toUpperCase(),E.textContent=e.genre,b.textContent=e.overview,m.style.display="block",p.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,v.textContent=e.title,h.textContent=e.vote_average+"/"+e.vote_count,y.textContent=e.popularity,f.textContent=e.original_title,E.textContent=e.genre_ids,b.textContent=e.overview,m.style.display="block",c=e.id,r=e.original_title}(e)})),w.appendChild(o)}))}(e.results),currentPage=e.page,nextPage=currentPage+1,prevPage=currentPage-1,totalPages=e.total_pages,w.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),current.innerText=currentPage,currentPage<=1?(prev.classList.add("disabled"),next.classList.remove("disabled")):currentPage>=totalPages?(prev.classList.remove("disabled"),next.classList.add("disabled")):(prev.classList.remove("disabled"),next.classList.remove("disabled"))):(w.classList.toggle("is-hidden"),_.classList.toggle("is-hidden"),w.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function P(e){let t=lastUrl.split("?"),n=t[1].split("&"),a=n[n.length-1].split("=");if("page"!=a[0]){B(lastUrl+"&page="+e)}else{a[1]=e.toString();let l=a.join("=");n[n.length-1]=l;let o=n.join("&");B(t[0]+"?"+o)}}B(s),S.addEventListener("submit",(e=>{e.preventDefault();const t=C.value;B(t?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t:s)})),prev.addEventListener("click",(()=>{prevPage>0&&P(prevPage)})),next.addEventListener("click",(()=>{nextPage<=totalPages&&P(nextPage)})),w.addEventListener("click",(e=>{let t=e.target.parentElement;r=t.lastElementChild.firstElementChild.innerText,console.log(r)})),x.addEventListener("click",(()=>{u.includes(r)?alert(`${r} has been watched already`):u.push(r),localStorage.setItem("movie-watched",JSON.stringify(u))})),L.addEventListener("click",(()=>{g.includes(r)?alert(`${r} has been added to the queue already`):g.push(r),localStorage.setItem("movie-queue",JSON.stringify(g))})),x.addEventListener("click",(()=>{u.includes(c)?alert(`${r} has been watched already`):u.push(c),localStorage.setItem("movie-watched",JSON.stringify(u))})),L.addEventListener("click",(()=>{g.includes(c)?alert(`${r} has been added to the queue already`):g.push(c),localStorage.setItem("movie-queue",JSON.stringify(g))})),document.body.addEventListener("keydown",(e=>{"Escape"===e.code&&I()}))})),a("2Ep0d");
//# sourceMappingURL=index.682a1ea8.js.map
