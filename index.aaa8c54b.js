!function(){var e,t,n,o,a="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",d="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+a,i="https://image.tmdb.org/t/p/w500";n=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(n)),o=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(o));var l=document.getElementById("myModal"),s=document.getElementById("modal-poster"),c=document.getElementById("modal-title"),r=document.getElementById("modal-vote"),m=document.getElementById("modal-popularity"),u=document.getElementById("modal-original-title"),g=document.getElementById("modal-genre"),v=document.getElementById("modal-overview"),p=document.getElementById("addToWatchedBtn"),h=document.getElementById("addToQueuBtn");function y(){l.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",y),window.addEventListener("click",(function(e){e.target===l&&y()}));var f=document.getElementById("main"),E=document.getElementById("search-form"),I=document.getElementById("search-input"),L=(document.getElementById("gallery"),document.querySelector(".loader-container")),b=document.getElementById("prev"),B=document.getElementById("next"),S=document.getElementById("current"),_=1,w=2,k=3,N="",x=100;function C(n){N=n,f.classList.toggle("is-hidden"),L.classList.toggle("is-hidden"),fetch(n).then((function(e){return e.json()})).then((function(n){console.log(n.results),0!==n.results.length?(!function(n){f.innerHTML="",n.forEach((function(n){var o=n.title,a=n.poster_path,d=n.release_date,p=document.createElement("div");p.classList.add("movie"),p.innerHTML='\n            <img src="'.concat(a?i+a:"http:/>/via.placeholder.com/1080x1500",'"\n                alt="').concat(o,'"/>\n            \n            <div class="movie-info">\n                <h3>').concat(o,'</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="').concat(d,'">').concat(d,"</span>\n                </div>\n            </div>        \n        "),p.addEventListener("click",(function(){!function(n){s.src="https://image.tmdb.org/t/p/w500/".concat(n.poster_path),c.textContent=n.title,r.textContent=n.vote_average+"/"+n.vote_count,m.textContent=n.popularity,u.textContent=n.original_title,g.textContent=n.genre_ids,v.textContent=n.overview,l.style.display="block",t=n.id,e=n.original_title}(n)})),f.appendChild(p)}))}(n.results),_=n.page,w=_+1,k=_-1,x=n.total_pages,f.classList.toggle("is-hidden"),L.classList.toggle("is-hidden"),S.innerText=_,_<=1?(b.classList.add("disabled"),B.classList.remove("disabled")):_>=x?(b.classList.remove("disabled"),B.classList.add("disabled")):(b.classList.remove("disabled"),B.classList.remove("disabled"))):(f.classList.toggle("is-hidden"),L.classList.toggle("is-hidden"),f.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function J(e){var t=N.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){C(N+"&page="+e)}else{o[1]=e.toString();var a=o.join("=");n[n.length-1]=a;var d=n.join("&");C(t[0]+"?"+d)}}C(d),E.addEventListener("submit",(function(e){e.preventDefault();var t=I.value;C(t?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t:d)})),b.addEventListener("click",(function(){k>0&&J(k)})),B.addEventListener("click",(function(){w<=x&&J(w)})),p.addEventListener("click",(function(){o.includes(t)?alert("".concat(e," has been watched already")):o.push(t),localStorage.setItem("movie-watched",JSON.stringify(o))})),h.addEventListener("click",(function(){n.includes(t)?alert("".concat(e," has been added to the queue already")):n.push(t),localStorage.setItem("movie-queue",JSON.stringify(n))})),document.body.addEventListener("keydown",(function(e){"Escape"===e.code&&y()}))}();
//# sourceMappingURL=index.aaa8c54b.js.map
