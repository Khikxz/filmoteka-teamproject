const e="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5";let t,n,d,l;d=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(d)),l=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(l));const s=document.getElementById("myModal"),o=document.getElementById("modal-poster"),a=document.getElementById("modal-title"),i=document.getElementById("modal-vote"),c=document.getElementById("modal-popularity"),m=document.getElementById("modal-original-title"),r=document.getElementById("modal-genre"),g=document.getElementById("modal-overview"),u=document.getElementById("addToWatchedBtn"),v=document.getElementById("addToQueuBtn");function p(){s.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",p),window.addEventListener("click",(function(e){e.target===s&&p()}));const h=document.getElementById("main"),y=document.getElementById("search-form"),E=document.getElementById("search-input"),f=(document.getElementById("gallery"),document.querySelector(".loader-container")),I=document.getElementById("prev"),L=document.getElementById("next"),b=document.getElementById("current");var B=1,S=2,_=3,w="",k=100;function N(e){w=e,h.classList.toggle("is-hidden"),f.classList.toggle("is-hidden"),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length?(!function(e){h.innerHTML="",e.forEach((e=>{const{title:d,poster_path:l,release_date:u}=e,v=document.createElement("div");v.classList.add("movie"),v.innerHTML=`\n            <img src="${l?"https://image.tmdb.org/t/p/w500"+l:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${d}"/>\n            \n            <div class="movie-info">\n                <h3>${d}</h3>\n                <div class="movie-details">\n                    <span id="release_date" class="${u}">${u}</span>\n                </div>\n            </div>        \n        `,v.addEventListener("click",(function(){!function(e){o.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,a.textContent=e.title,i.textContent=e.vote_average+"/"+e.vote_count,c.textContent=e.popularity,m.textContent=e.original_title,r.textContent=e.genre_ids,g.textContent=e.overview,s.style.display="block",n=e.id,t=e.original_title}(e)})),h.appendChild(v)}))}(e.results),B=e.page,S=B+1,_=B-1,k=e.total_pages,h.classList.toggle("is-hidden"),f.classList.toggle("is-hidden"),b.innerText=B,B<=1?(I.classList.add("disabled"),L.classList.remove("disabled")):B>=k?(I.classList.remove("disabled"),L.classList.add("disabled")):(I.classList.remove("disabled"),L.classList.remove("disabled"))):(h.classList.toggle("is-hidden"),f.classList.toggle("is-hidden"),h.innerHTML='<h1 class="no-results">No Results Found</h1>')}))}function x(e){let t=w.split("?"),n=t[1].split("&"),d=n[n.length-1].split("=");if("page"!=d[0]){N(w+"&page="+e)}else{d[1]=e.toString();let l=d.join("=");n[n.length-1]=l;let s=n.join("&");N(t[0]+"?"+s)}}N(e),y.addEventListener("submit",(t=>{t.preventDefault();const n=E.value;N(n?"https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+n:e)})),I.addEventListener("click",(()=>{_>0&&x(_)})),L.addEventListener("click",(()=>{S<=k&&x(S)})),u.addEventListener("click",(()=>{l.includes(n)?alert(`${t} has been watched already`):l.push(n),localStorage.setItem("movie-watched",JSON.stringify(l))})),v.addEventListener("click",(()=>{d.includes(n)?alert(`${t} has been added to the queue already`):d.push(n),localStorage.setItem("movie-queue",JSON.stringify(d))})),document.body.addEventListener("keydown",(e=>{"Escape"===e.code&&p()}));
//# sourceMappingURL=index.b8ccbd5f.js.map
