var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequire7a9c;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequire7a9c=o),o.register("2Ep0d",(function(e,t){let n,o,a,l,d;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5").then((e=>e.json())).then((e=>{n=e.genres,console.log(n)})).catch((e=>{console.error("Error fetching genres:",e)})),l=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(l)),d=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(d));const i=document.getElementById("myModal"),s=(document.getElementById("modal-poster"),document.getElementById("modal-title"),document.getElementById("modal-vote"),document.getElementById("modal-popularity"),document.getElementById("modal-original-title"),document.getElementById("modal-genre"),document.getElementById("modal-overview"),document.getElementById("addToWatchedBtn")),r=document.getElementById("addToQueuBtn");function c(){i.style.display="none"}document.getElementsByClassName("close")[0].addEventListener("click",c),window.addEventListener("click",(function(e){if(e.target===i){t();const a="api_key=b5e824a3d922f68ba211fcf6dbdcb6f5",l="https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&"+a,d="https://image.tmdb.org/t/p/w500",s="https://api.themoviedb.org/3/genre/movie/list?"+a;let r,c;r=null===JSON.parse(localStorage.getItem("movie-queue"))?[]:JSON.parse(localStorage.getItem("movie-queue")),localStorage.setItem("movie-queue",JSON.stringify(r)),c=null===JSON.parse(localStorage.getItem("movie-watched"))?[]:JSON.parse(localStorage.getItem("movie-watched")),localStorage.setItem("movie-watched",JSON.stringify(c));const m=document.getElementById("myModal"),g=document.getElementById("modal-poster"),u=document.getElementById("modal-title"),p=document.getElementById("modal-vote"),v=document.getElementById("modal-popularity"),h=document.getElementById("modal-original-title"),y=document.getElementById("modal-genre"),f=document.getElementById("modal-overview"),E=(document.getElementById("addToWatchedBtn"),document.getElementById("addToQueuBtn"),document.getElementsByClassName("close")[0]);let I;function t(){m.style.display="none"}fetch(s).then((e=>e.json())).then((e=>{I=e.genres,n(l),o(e)})).catch((e=>{})),E.addEventListener("click",t),window.addEventListener("click",(function(e){e.target===m&&t()}));const S=document.getElementById("main"),b=(document.getElementById("search-form"),document.getElementById("search-input"),document.getElementById("gallery"),document.querySelector(".loader-container"));let w;function n(e){w=e,S.classList.toggle("is-hidden"),b.classList.toggle("is-hidden"),fetch(e).then((e=>e.json())).then((e=>{console.log(e.results),0!==e.results.length&&o(e.results)}))}function o(e){S.innerHTML="",e.forEach((e=>{const{title:t,poster_path:n,release_date:o,genre_ids:a}=e,l=document.createElement("div");l.classList.add("movie");const i=a&&Array.isArray(I)?a.map((e=>{const t=I.find((t=>t.id===e));return t?t.name:""})).join(", "):"";l.innerHTML=`\n            <img src="${n?d+n:"http:/>/via.placeholder.com/1080x1500"}"\n                alt="${t}"/>\n            <div class="movie-info">\n                <h3>${t.toUpperCase()}</h3>\n                <div class="movie-details">\n                <span id="genre">${i}</span> |\n                <span id="release_date" class="${o}">${o.slice(0,4)}</span>\n                  </div>\n                  </div>\n                  `,l.addEventListener("click",(function(){!function(e){g.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,u.textContent=e.title.toUpperCase(),p.textContent=e.vote_average.toFixed(1)+"   /   "+e.vote_count,v.textContent=e.popularity.toFixed(1),h.textContent=e.original_title.toUpperCase();const t=e.genre_ids.map((e=>{const t=I.find((t=>t.id===e));return t?t.name:""})).join(", ");y.textContent=t,f.textContent=e.overview,m.style.display="block"}(e)})),S.appendChild(l)}))}n(l)}})),next.addEventListener("click",(()=>{nextPage<=totalPages&&function(e){let t=lastUrl.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){let t=lastUrl+"&page="+e;getMovies(t)}else{o[1]=e.toString();let a=o.join("=");n[n.length-1]=a;let l=n.join("&"),d=t[0]+"?"+l;getMovies(d)}}(nextPage)})),main.addEventListener("click",(e=>{let t=e.target.parentElement;o=t.lastElementChild.firstElementChild.innerText,console.log(o)})),s.addEventListener("click",(()=>{d.includes(o)?alert(`${o} has been watched already`):d.push(o),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(()=>{l.includes(o)?alert(`${o} has been added to the queue already`):l.push(o),localStorage.setItem("movie-queue",JSON.stringify(l))})),s.addEventListener("click",(()=>{d.includes(a)?alert(`${o} has been watched already`):d.push(a),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(()=>{l.includes(a)?alert(`${o} has been added to the queue already`):l.push(a),localStorage.setItem("movie-queue",JSON.stringify(l))})),document.body.addEventListener("keydown",(e=>{function t(e){let t=lastUrl.split("?"),n=t[1].split("&"),o=n[n.length-1].split("=");if("page"!=o[0]){let t=lastUrl+"&page="+e;getMovies(t)}else{o[1]=e.toString();let a=o.join("=");n[n.length-1]=a;let l=n.join("&"),d=t[0]+"?"+l;getMovies(d)}}"Escape"===e.code&&c(),form.addEventListener("submit",(e=>{e.preventDefault();const t=search.value;t?getMovies("https://api.themoviedb.org/3/search/movie?api_key=b5e824a3d922f68ba211fcf6dbdcb6f5&query="+t):getMovies("https://api.themoviedb.org/3/discover/movie?sort_by-popularity.desc&api_key=b5e824a3d922f68ba211fcf6dbdcb6f5")})),prev.addEventListener("click",(()=>{prevPage>0&&t(prevPage)})),next.addEventListener("click",(()=>{nextPage<=totalPages&&t(nextPage)})),main.addEventListener("click",(e=>{let t=e.target.parentElement;o=t.lastElementChild.firstElementChild.innerText,console.log(o)})),s.addEventListener("click",(()=>{d.includes(o)?alert(`${o} has been watched already`):d.push(o),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(()=>{l.includes(o)?alert(`${o} has been added to the queue already`):l.push(o),localStorage.setItem("movie-queue",JSON.stringify(l))})),s.addEventListener("click",(()=>{d.includes(a)?alert(`${o} has been watched already`):d.push(a),localStorage.setItem("movie-watched",JSON.stringify(d))})),r.addEventListener("click",(()=>{l.includes(a)?alert(`${o} has been added to the queue already`):l.push(a),localStorage.setItem("movie-queue",JSON.stringify(l))})),document.body.addEventListener("keydown",(e=>{"Escape"===e.code&&c()}))}))})),o("2Ep0d");
//# sourceMappingURL=index.eddc4311.js.map
